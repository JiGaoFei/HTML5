<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>音乐播放器</title>
	</head>
	<body>
		
	</body>
	<body>
		<h2>音乐播放器</h2>
		<select id="typeSelf" style="width: 160px;">
			<option value="sequence">顺序播放</option>
			<option value="random">随机播放</option>
		</select>
	</body>
	<script type="text/javascript">
			// 定义能播放的所有音乐
			var musics = [
				"demo1.ogg",
				"arrow.ogg",
				"song.ogg".
			];
			// 定义正在 播放的音频文件的索引
			var index = 0;
			// 记录顺序播放,随机播放的变量
			var playType;
			window.onload = function()
			{
				var typeSel = document.getElementById("typeSel");
				// 当用户更改下拉菜单的选项时,改变播放方式
				typeSel.onchange = function()
				{
					window.playType = typeSel.value;
				}
				var player = document.getElementById("player");
				// 页面加载时播放第一个音频文件
				player.src = musics[index];
				player.onended = function(){
					if(playType == "random")
					{
						// 计算一个随机数
						index = Math.floor(math.random() *musics.length);
						// 随机播放一个音频 文件
						player.src = musics[index];
						
					}else
					{
						// 播放下一个音频文件
						player.src = musics[++index % musics.length];
					}
					// 播放
					player.play();
				}
			}
		</script>
</html>
